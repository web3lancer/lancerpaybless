(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{32417:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(74807),r=a(95423),n=a(99847),c=a(34712),l=a(35714),i=a(49969);let o=async(e,t)=>"data:image/svg+xml;base64,".concat(btoa('\n    <svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">\n      <rect width="200" height="200" fill="white"/>\n      <rect x="20" y="20" width="160" height="160" fill="black"/>\n      <rect x="40" y="40" width="120" height="120" fill="white"/>\n      <text x="100" y="95" text-anchor="middle" font-family="Arial" font-size="12" fill="black">QR CODE</text>\n      <text x="100" y="110" text-anchor="middle" font-family="Arial" font-size="8" fill="black">'.concat(t||"Address",'</text>\n      <text x="100" y="125" text-anchor="middle" font-family="Arial" font-size="6" fill="black">').concat(e.slice(0,12),"...</text>\n    </svg>\n  ")));var d=a(30760),h=a(67138),m=a.n(h);function u(){let{user:e}=(0,n.A)(),{wallets:t,isLoading:a}=(0,c.v)(),{getRate:h}=(0,l.i)(),[u,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(null),v=t.find(e=>e.walletId===u),w=async e=>{x(e);let a=t.find(t=>t.walletId===e);a&&f(await o(a.address,a.blockchain.toUpperCase()))},N=async()=>{if(v)try{await navigator.clipboard.writeText(v.address),g(!0),setTimeout(()=>g(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},y=async()=>{if(v&&navigator.share)try{await navigator.share({title:"".concat(v.blockchain.toUpperCase()," Wallet Address"),text:"Send ".concat(v.blockchain.toUpperCase()," to this address:"),url:v.address})}catch(e){console.error("Failed to share:",e)}};return(0,s.jsx)(i.G,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(m(),{href:"/",className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:(0,s.jsx)(d.kRp,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-neutral-900",children:"Receive Money"}),(0,s.jsx)("p",{className:"text-neutral-600",children:"Share your wallet address to receive payments"})]})]}),(0,s.jsx)(d.a4x,{className:"w-8 h-8 text-cyan-600"})]}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Select Wallet"}),a?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-600 mx-auto"}),(0,s.jsx)("p",{className:"text-neutral-500 mt-4",children:"Loading wallets..."})]}):0===t.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-neutral-500 mb-4",children:"No wallets found"}),(0,s.jsx)(m(),{href:"/wallets/create",className:"inline-flex items-center px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors",children:"Create Wallet"})]}):(0,s.jsx)("div",{className:"grid gap-3",children:t.map(e=>{var t;let a=h(e.blockchain),r=parseFloat((null==(t=e.balance)?void 0:t.toString())||"0");return(0,s.jsx)("button",{onClick:()=>w(e.walletId),className:"p-4 rounded-lg border-2 transition-all text-left ".concat(u===e.walletId?"border-cyan-500 bg-cyan-50":"border-neutral-200 hover:border-neutral-300"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-neutral-900",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-neutral-500",children:[e.blockchain.toUpperCase()," â€¢ ",e.address.slice(0,12),"..."]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-medium text-neutral-900",children:[r.toFixed(4)," ",e.blockchain.toUpperCase()]}),a&&(0,s.jsxs)("div",{className:"text-sm text-neutral-500",children:["$",(r*a.price_usd).toFixed(2)]})]})]})},e.walletId)})})]}),v&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:["Receive ",v.blockchain.toUpperCase()]}),b&&(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("img",{src:b,alt:"Wallet Address QR Code",className:"mx-auto border border-neutral-200 rounded-lg",width:200,height:200}),(0,s.jsx)("p",{className:"text-sm text-neutral-600 mt-2",children:"Scan this QR code to get the wallet address"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Wallet Address"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex-1 px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg font-mono text-sm break-all",children:v.address}),(0,s.jsx)("button",{onClick:N,className:"p-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors",title:"Copy address",children:p?(0,s.jsx)(d.YrT,{className:"w-5 h-5"}):(0,s.jsx)(d.nxz,{className:"w-5 h-5"})}),navigator.share&&(0,s.jsx)("button",{onClick:y,className:"p-2 bg-neutral-600 text-white rounded-lg hover:bg-neutral-700 transition-colors",title:"Share address",children:(0,s.jsx)(d.Pum,{className:"w-5 h-5"})})]}),p&&(0,s.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Address copied to clipboard!"})]}),(0,s.jsxs)("div",{className:"bg-cyan-50 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-cyan-900 mb-2",children:"How to receive payments:"}),(0,s.jsxs)("ol",{className:"text-sm text-cyan-800 space-y-1",children:[(0,s.jsx)("li",{children:"1. Share this address with the sender"}),(0,s.jsx)("li",{children:"2. Or let them scan the QR code"}),(0,s.jsxs)("li",{children:["3. They can send ",v.blockchain.toUpperCase()," to this address"]}),(0,s.jsx)("li",{children:"4. Transactions will appear in your wallet shortly"})]})]}),(0,s.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"Security tip:"})," This address can be safely shared publicly. Only send ",v.blockchain.toUpperCase()," tokens to this address."]})})]})]})]})})}},32503:(e,t,a)=>{Promise.resolve().then(a.bind(a,32417))},34712:(e,t,a)=>{"use strict";a.d(t,{v:()=>s.useWallet});var s=a(86033)},35714:(e,t,a)=>{"use strict";a.d(t,{i:()=>s.useExchangeRate});var s=a(62189)},49969:(e,t,a)=>{"use strict";a.d(t,{G:()=>r});var s=a(74807);function r(e){let{children:t}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsx)("main",{children:t})})}a(95423)},62189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ExchangeRateProvider:()=>l,useExchangeRate:()=>i});var s=a(74807),r=a(95423);class n{static async getExchangeRate(e){let t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.CACHE_DURATION)return t.rate;try{let t=this.TOKEN_MAPPING[e.toLowerCase()];if(!t)return console.warn("No CoinGecko mapping for token: ".concat(e)),this.getMockRate(e);let a=await fetch("".concat(this.COINGECKO_API,"/simple/price?ids=").concat(t,"&vs_currencies=usd&include_24hr_change=true"),{headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!a.ok)throw Error("HTTP ".concat(a.status));let s=(await a.json())[t];if(!s)throw Error("No price data for ".concat(t));let r={tokenId:e.toLowerCase(),symbol:e.toUpperCase(),name:this.getTokenName(e),price_usd:s.usd,price_change_24h:s.usd_24h_change||0,last_updated:new Date().toISOString()};return this.cache.set(e,{rate:r,timestamp:Date.now()}),r}catch(t){return console.error("Failed to fetch exchange rate for ".concat(e,":"),t),this.getMockRate(e)}}static async getMultipleExchangeRates(e){let t=[...new Set(e.map(e=>e.toLowerCase()))],a=t.map(e=>this.TOKEN_MAPPING[e]).filter(Boolean);if(0===a.length)return t.map(e=>this.getMockRate(e)).filter(Boolean);try{let e=await fetch("".concat(this.COINGECKO_API,"/simple/price?ids=").concat(a.join(","),"&vs_currencies=usd&include_24hr_change=true"),{headers:{Accept:"application/json"},signal:AbortSignal.timeout(15e3)});if(!e.ok)throw Error("HTTP ".concat(e.status));let s=await e.json(),r=[];for(let e of t){let t=s[this.TOKEN_MAPPING[e]];if(t){let a={tokenId:e,symbol:e.toUpperCase(),name:this.getTokenName(e),price_usd:t.usd,price_change_24h:t.usd_24h_change||0,last_updated:new Date().toISOString()};this.cache.set(e,{rate:a,timestamp:Date.now()}),r.push(a)}else{let t=this.getMockRate(e);t&&r.push(t)}}return r}catch(e){return console.error("Failed to fetch multiple exchange rates:",e),t.map(e=>this.getMockRate(e)).filter(Boolean)}}static calculateUsdValue(e,t,a){let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return 0;if(a)return s*a.price_usd;let r=this.getMockRate(t);return r?s*r.price_usd:0}static formatUsdValue(e){return e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):e>=1e3?"$".concat((e/1e3).toFixed(2),"K"):"$".concat(e.toFixed(2))}static formatPriceChange(e){let t=e>=0;return{text:"".concat(t?"+":"").concat(e.toFixed(2),"%"),color:t?"text-green-600":"text-red-600"}}static getMockRate(e){let t={btc:{price:43e3,name:"Bitcoin"},eth:{price:2400,name:"Ethereum"},matic:{price:.85,name:"Polygon"},bnb:{price:310,name:"BNB"},usdt:{price:1,name:"Tether"},usdc:{price:1,name:"USD Coin"},ada:{price:.45,name:"Cardano"},sol:{price:95,name:"Solana"},dot:{price:7.2,name:"Polkadot"},avax:{price:35,name:"Avalanche"}}[e.toLowerCase()];return t?{tokenId:e.toLowerCase(),symbol:e.toUpperCase(),name:t.name,price_usd:t.price,price_change_24h:(Math.random()-.5)*10,last_updated:new Date().toISOString()}:null}static getTokenName(e){return({btc:"Bitcoin",eth:"Ethereum",matic:"Polygon",bnb:"BNB",usdt:"Tether",usdc:"USD Coin",ada:"Cardano",sol:"Solana",dot:"Polkadot",avax:"Avalanche"})[e.toLowerCase()]||e.toUpperCase()}static clearCache(){this.cache.clear()}static getCacheSize(){return this.cache.size}}n.COINGECKO_API="https://api.coingecko.com/api/v3",n.CACHE_DURATION=3e5,n.cache=new Map,n.TOKEN_MAPPING={btc:"bitcoin",eth:"ethereum",matic:"matic-network",bnb:"binancecoin",usdt:"tether",usdc:"usd-coin",ada:"cardano",sol:"solana",dot:"polkadot",avax:"avalanche-2"};let c=(0,r.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,r.useState)({}),[i,o]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),m=["btc","eth","matic","bnb","usdt","usdc"],u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;o(!0);try{let t=await n.getMultipleExchangeRates(e),a={};t.forEach(e=>{a[e.tokenId]=e}),l(e=>({...e,...a})),h(new Date)}catch(e){console.error("Failed to refresh exchange rates:",e)}finally{o(!1)}},x=e=>a[e.toLowerCase()]||null;return(0,r.useEffect)(()=>{u();let e=setInterval(()=>{u()},3e5);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{let e=()=>{!document.hidden&&d&&Date.now()-d.getTime()>12e4&&u()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[d]),(0,s.jsx)(c.Provider,{value:{rates:a,isLoading:i,lastUpdated:d,refreshRates:u,getRate:x,calculateUsdValue:(e,t)=>{let a=x(t);return n.calculateUsdValue(e,t,a||void 0)},formatUsdValue:e=>n.formatUsdValue(e),formatPriceChange:e=>n.formatPriceChange(e)},children:t})}function i(){let e=(0,r.useContext)(c);if(void 0===e)throw Error("useExchangeRate must be used within an ExchangeRateProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[215,960,898,33,412,640,358],()=>t(32503)),_N_E=e.O()}]);